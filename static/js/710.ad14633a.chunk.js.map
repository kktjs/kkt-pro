{"version":3,"file":"static/js/710.ad14633a.chunk.js","mappings":"+GACA,WACIA,WAAY,CAAG,EACfC,KAAM,CAAC,EACPC,OAAQ,s1D","sources":["../../packages/plugin/access/README.md"],"sourcesContent":["\nexport default {\n    components: {  },\n    data: {},\n    source: \"## 权限配置\\n\\n权限控制，开启 `access` 配置, 则`src`目录下自动生成 `access` 文件。可以在业务中根据路径来定制需求。\\n\\n\\n## 参数\\n\\n```ts\\nexport interface AccessPluginProps {\\n  /** 是否开启权限 */\\n  access?: string;\\n}\\n\\n```\\n\\n## roles\\n\\n当路由配置`roles`参数，在页面中可以直接获取`roles`用于页面模块校验权限。\\n```ts\\n// config/routes.json\\nconst routes = [\\n  // ....\\n  {\\n    path: '/demo',\\n    element: '@/pages/demo',\\n    roles: ['admin', 'users']\\n  }\\n]\\n\\n// page\\nconst Page = (props) => {\\n  const { roles = [] } = props;\\n\\n  return <div />\\n}\\nexport default Page;\\n```\\n\\n## access.ts\\n\\n页面跳转拦截，思路来源于`vue-router`的`beforeEach`。\\n\\n```ts\\n// src/access.ts\\n/**\\n * @path: 当前页面地址\\n * @return 返回true则通过，返回路由则表示跳转\\n */\\nconst beforeEach = (path: string) => {\\n  return new Promise((resolve, reject) => {\\n    const isAuth = false;\\n    if (isAuth) {\\n      resolve(true);\\n    } else {\\n      // 如果当前无权限则跳转到 login 页面\\n      resolve('/login')\\n    }\\n  })\\n};\\n\\nexport default beforeEach;\\n```\\n\\n## `kktp`配置文件\\n\\n```ts\\n// .kktprc.ts\\nexport default {\\n  access: true\\n}\\n```\\n\\n### Contributors\\n\\n<a href=\\\"https://github.com/kktjs/kkt-pro/graphs/contributors\\\">\\n  <img src=\\\"https://kktjs.github.io/kkt-pro/CONTRIBUTORS.svg\\\" />\\n</a>\\n\\n### License\\n\\nLicensed under the MIT License.\\n\"\n  }"],"names":["components","data","source"],"sourceRoot":""}