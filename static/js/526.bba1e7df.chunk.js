"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[526],{8526:function(n,e,s){s.r(e),e.default={components:{},data:{},source:"## \u6743\u9650\u914d\u7f6e\n\n\u6743\u9650\u63a7\u5236\uff0c\u5f00\u542f `access` \u914d\u7f6e, \u5219`src`\u76ee\u5f55\u4e0b\u81ea\u52a8\u751f\u6210 `access` \u6587\u4ef6\u3002\u53ef\u4ee5\u5728\u4e1a\u52a1\u4e2d\u6839\u636e\u8def\u5f84\u6765\u5b9a\u5236\u9700\u6c42\u3002\n\n\n## \u53c2\u6570\n\n```ts\nexport interface AccessPluginProps {\n  /** \u662f\u5426\u5f00\u542f\u6743\u9650 */\n  access?: string;\n}\n\n```\n\n## roles\n\n\u5f53\u8def\u7531\u914d\u7f6e`roles`\u53c2\u6570\uff0c\u5728\u9875\u9762\u4e2d\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6`roles`\u7528\u4e8e\u9875\u9762\u6a21\u5757\u6821\u9a8c\u6743\u9650\u3002\n```ts\n// config/routes.json\nconst routes = [\n  // ....\n  {\n    path: '/demo',\n    element: '@/pages/demo',\n    roles: ['admin', 'users']\n  }\n]\n\n// page\nconst Page = (props) => {\n  const { roles = [] } = props;\n\n  return <div />\n}\nexport default Page;\n```\n\n## access.ts\n\n\u9875\u9762\u8df3\u8f6c\u62e6\u622a\uff0c\u601d\u8def\u6765\u6e90\u4e8e`vue-router`\u7684`beforeEach`\u3002\n\n```ts\n// src/access.ts\n/**\n * @path: \u5f53\u524d\u9875\u9762\u5730\u5740\n * @return \u8fd4\u56detrue\u5219\u901a\u8fc7\uff0c\u8fd4\u56de\u8def\u7531\u5219\u8868\u793a\u8df3\u8f6c\n */\nconst beforeEach = (path: string) => {\n  return new Promise((resolve, reject) => {\n    const isAuth = false;\n    if (isAuth) {\n      resolve(true);\n    } else {\n      // \u5982\u679c\u5f53\u524d\u65e0\u6743\u9650\u5219\u8df3\u8f6c\u5230 login \u9875\u9762\n      resolve('/login')\n    }\n  })\n};\n\nexport default beforeEach;\n```\n\n## `kktp`\u914d\u7f6e\u6587\u4ef6\n\n```ts\n// .kktprc.ts\nexport default {\n  access: true\n}\n```\n\n### Contributors\n\n<a href=\"https://github.com/kktjs/kkt-pro/graphs/contributors\">\n  <img src=\"https://kktjs.github.io/kkt-pro/CONTRIBUTORS.svg\" />\n</a>\n\n### License\n\nLicensed under the MIT License.\n"}}}]);
//# sourceMappingURL=526.bba1e7df.chunk.js.map